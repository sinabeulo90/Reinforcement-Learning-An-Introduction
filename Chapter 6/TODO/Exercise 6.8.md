## Exercise 6.8

### Question:

식 6.6의 행동 가치 버전이 TD 오차의 행동 가치 형태인 ![equation](https://latex.codecogs.com/svg.latex?\delta_t&space;=&space;R_{t&plus;1}&space;&plus;&space;\gamma&space;Q(S_{t&plus;1},&space;A_{t&plus;1})&space;-&space;Q(S_t,&space;A_t)) 에 대해 성립함을 보여라. 여기서도 가치가 단계마다 변하지 않는다고 가정하라.

### Answer:

<img src="https://latex.codecogs.com/svg.latex?\begin{align*}&space;G_t&space;-&space;Q(S_t,&space;A_t)&space;&=&space;R_{t&plus;1}&space;&plus;&space;\gamma&space;G_{t&plus;1}&space;-&space;Q(S_t,&space;A_t)&space;&plus;&space;\gamma&space;Q(S_{t&plus;1},&space;A_{t&plus;1})&space;-&space;\gamma&space;Q(S_{t&plus;1},&space;A_{t&plus;1})&space;\\&space;&=&space;\delta_t&space;&plus;&space;\gamma(G_{t&plus;1}&space;-&space;Q(S_{t&plus;1},&space;A_{t&plus;1}))&space;\\&space;&=&space;\delta_t&space;&plus;&space;\gamma\delta_{t&plus;1}&space;&plus;&space;\gamma^2(G_{t&plus;2}&space;-&space;Q(S_{t&plus;2},&space;A_{t&plus;2}))&space;\\&space;&=&space;\delta_t&space;&plus;&space;\gamma\delta_{t&plus;1}&space;&plus;&space;\gamma^2\delta_{t&plus;2}&space;&plus;&space;\cdots&space;&plus;&space;\gamma^{T-t-1}\delta_{T-1}&space;&plus;&space;\gamma^{T-t}(G_T&space;-&space;Q(S_T,&space;\cdot))&space;\\&space;&=&space;\delta_t&space;&plus;&space;\gamma\delta_{t&plus;1}&space;&plus;&space;\gamma^2\delta_{t&plus;2}&space;&plus;&space;\cdots&space;&plus;&space;\gamma^{T-t-1}\delta_{T-1}&space;&plus;&space;\gamma^{T-t}(0&space;-&space;0)&space;\\&space;&=&space;\sum_{k=t}^{T-1}\gamma^{k-t}\delta_k&space;\end{align*}" title="\begin{align*} G_t - Q(S_t, A_t) &= R_{t+1} + \gamma G_{t+1} - Q(S_t, A_t) + \gamma Q(S_{t+1}, A_{t+1}) - \gamma Q(S_{t+1}, A_{t+1}) \\ &= \delta_t + \gamma(G_{t+1} - Q(S_{t+1}, A_{t+1})) \\ &= \delta_t + \gamma\delta_{t+1} + \gamma^2(G_{t+2} - Q(S_{t+2}, A_{t+2})) \\ &= \delta_t + \gamma\delta_{t+1} + \gamma^2\delta_{t+2} + \cdots + \gamma^{T-t-1}\delta_{T-1} + \gamma^{T-t}(G_T - Q(S_T, \cdot)) \\ &= \delta_t + \gamma\delta_{t+1} + \gamma^2\delta_{t+2} + \cdots + \gamma^{T-t-1}\delta_{T-1} + \gamma^{T-t}(0 - 0) \\ &= \sum_{k=t}^{T-1}\gamma^{k-t}\delta_k \end{align*}" />
